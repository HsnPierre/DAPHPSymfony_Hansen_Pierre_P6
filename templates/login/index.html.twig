{% extends 'layout.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body_id 'login_body' %}

{% block body %}

    <section class="container" id="login">
        <div class="container justify-content-center">
            <h2 class="text-center mt-0">Connexion</h2>
            <hr class="divider my-4" />
            
            {% if error %}
                <div class="alert alert-danger">
                    {{ error.messageKey|trans(error.messageData, 'security') }}
                </div>
            {% endif %}

            {% for message in app.flashes('error') %}
                <div class="container text-center alert alert-danger">{{ message }}</div>
            {% endfor %}

            {% for message in app.flashes('success') %}
                <div class="container text-center alert alert-success">{{ message }}</div>
            {% endfor %}

            <div class="well">
                <form action="{{ path('security_login') }}" method="post">
                    <fieldset>
                        <div class="form-group">
                            <label for="username">{{ 'Pseudo' }}</label>
                            <input type="text" id="username" name="username" value="{{ last_username }}" class="form-control"/>
                        </div>
                        <div class="form-group">
                            <label for="password">{{ 'Mot de passe' }}</label>
                            <input type="password" id="password" name="password" class="form-control" />
                            <a href="/login/forgot" class="font-weight-light">{{ 'Mot de passe oubli√© ?' }}</a>
                        </div>
                        <input type="hidden" name="_target_path" value="{{ app.request.get('redirect_to') }}"/>
                        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}"/>

                        <button type="submit" class="btn btn-primary">
                            {{ 'Se connecter' }}
                        </button>
                    </fieldset>
                </form>
            </div>
        </div> 
    </section>

{% endblock %}
